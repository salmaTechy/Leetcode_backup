<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <meta name="description" content="Given two non-empty binary trees s and t, check whether tree t has exactly the same structure and node values with a subtree of s. A subtree of s is a tree consists of a node in s and all of this node&#39;s descendants. The tree s could also be considered as a subtree of itself.

Example 1:

Given tree s:

     3
    / \
   4   5
  / \
 1   2

Given tree t:

   4 
  / \
 1   2

Return true, because t has the same structure and node values with a subtree of s.

Example 2:

Given tree s:

     3
    / \
   4   5
  / \
 1   2
    /
   0

Given tree t:

   4
  / \
 1   2

Return false.">
  <meta name="keywords"
        content="Subtree of Another Tree, LC 572, leetcode 572, leaked interview questions, hackerank free, bittiger free"/>



  <meta name="author" content="">
  <link rel="icon" href="../favicon.ico">

  <title>LeetFree - Leaked Interview questions from Google Facebook Amazon Microsoft LinkedIn</title>

  <!-- Bootstrap core CSS -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">

  <link href="https://use.fontawesome.com/releases/v5.0.1/css/all.css" rel="stylesheet">

  <!-- <link href="/css/fontawesome-all.min.css" rel="stylesheet"> -->
  <!-- <link href="/css/open-iconic-bootstrap.min.css" rel="stylesheet"> -->

  <!-- DataTable -->
  <!-- <link href="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0-beta/css/bootstrap.css" rel="stylesheet">
  <link href="https://cdn.datatables.net/1.10.16/css/dataTables.bootstrap4.min.css" rel="stylesheet"> -->

  
  <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/css/select2.min.css" rel="stylesheet"/>
  <!--<link href="/css/codemirror.css" rel="stylesheet">-->

  <style type="text/css">.CodeMirror {
      border: 1px solid gray;
      height: 100%;
    }
  </style>



  <!-- Custom styles for this template -->
  <link href="../maincss.css" rel="stylesheet">


  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-111377072-1"></script>
  <script>
      window.dataLayer = window.dataLayer || [];

      function gtag() {
          dataLayer.push(arguments);
      }

      gtag('js', new Date());

      gtag('config', 'UA-111377072-1');
  </script>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({
      google_ad_client: "ca-pub-8728288618103299",
      enable_page_level_ads: true
    });
  </script>

  <!-- Baidu Analytics -->









</head>

<body>

<div class="blog-masthead">
  <div class="container">
    <nav class="blog-nav">
      <a class="blog-nav-item" href="../index.html">All Questions</a>
      <a class="blog-nav-item" href="../company/google.html">Google</a>
      <a class="blog-nav-item" href="../company/facebook.html">Facebook</a>
      <a class="blog-nav-item" href="../company/microsoft.html">Microsoft</a>
      <a class="blog-nav-item" href="../company/amazon.html">Amazon</a>
      <a class="blog-nav-item" href="../company/uber.html">Uber</a>
      <a class="blog-nav-item" href="../company/linkedin.html">LinkedIn</a>
      <a class="blog-nav-item" href="../company/twitter.html">Twitter</a>
      <a class="blog-nav-item" href="../company/airbnb.html">Airbnb</a>
      <a class="blog-nav-item" href="../company/snapchat.html">Snapchat</a>
    </nav>
  </div>
</div>

<div class="container">
  

  <div class="blog-header">
    <div class="alert alert-info" role="alert">This website contains ALL LeetCode <b>Premium</b> <i
            class="fas fa-unlock-alt"></i> problems for
      <b>FREE!!</b>.<br/>
      All leaked interview problems are collected from Internet.
    </div>

    <h2>572. Subtree of Another Tree</h2>
  </div>

  <div class="row">
    <div class="col-md-9 blog-main">
      <div>
        <!-- Nav tabs -->
        <ul class="nav nav-tabs" role="tablist" id="myTabs">
          <li role="presentation" class="active" id="question-li"><a href="#question" aria-controls="question"
                                                                     role="tab"
                                                                     data-toggle="tab">Question</a>
          </li>
          <li role="presentation" id="solution-li"><a href="#solution" aria-controls="solution" role="tab"
                                                      data-toggle="tab"><i class="fas fa-unlock-alt"></i> Solution</a>
          </li>
        </ul>

        <!-- Tab panes -->
        <div class="tab-content">

          <div role="tabpanel" class="tab-pane active" id="question">
            <br/>
            <p>
Given two non-empty binary trees <b>s</b> and <b>t</b>, check whether tree <b>t</b> has exactly the same structure and node values with a subtree of <b>s</b>. A subtree of <b>s</b> is a tree consists of a node in <b>s</b> and all of this node's descendants. The tree <b>s</b> could also be considered as a subtree of itself.
</p>

<p><b>Example 1:</b><br>

Given tree s:
<pre>
     3
    / \
   4   5
  / \
 1   2
</pre>
Given tree t:
<pre>
   4 
  / \
 1   2
</pre>
Return <b>true</b>, because t has the same structure and node values with a subtree of s.
</p>

<p><b>Example 2:</b><br>

Given tree s:
<pre>
     3
    / \
   4   5
  / \
 1   2
    /
   0
</pre>
Given tree t:
<pre>
   4
  / \
 1   2
</pre>
Return <b>false</b>.
</p>
          </div>
          <div role="tabpanel" class="tab-pane" id="solution">
            <br/>
            <div class="block-markdown">
<div class="toc">
<ul>
<li><a href="#solution">Solution</a><ul>
<li><a href="#approach-1-using-preorder-traversal-accepted">Approach #1 Using Preorder Traversal [Accepted]</a></li>
<li><a href="#approach-2-by-comparison-of-nodes-accepted">Approach #2 By Comparison of Nodes  [Accepted]</a></li>
</ul>
</li>
</ul>
</div>
<h2 id="solution">Solution</h2>
<hr/>
<h4 id="approach-1-using-preorder-traversal-accepted">Approach #1 Using Preorder Traversal [Accepted]</h4>
<p><strong>Algorithm</strong></p>
<p>We can find the preorder traversal of the given tree <script type="math/tex; mode=display">s</script> and <script type="math/tex; mode=display">t</script>, given by, say <script type="math/tex; mode=display">s_{preorder}</script> and <script type="math/tex; mode=display">t_{preorder}</script> respectively(represented in the form of a string). Now, we can check if <script type="math/tex; mode=display">t_{preorder}</script> is a substring of <script type="math/tex; mode=display">s_{preorder}</script>. </p>
<p>But, in order to use this approach, we need to treat the given tree in a different manner. Rather than assuming a <script type="math/tex; mode=display">null</script> value for the childern of the leaf nodes, we need to treat the left and right child as a <script type="math/tex; mode=display">lnull</script> and <script type="math/tex; mode=display">rnull</script> value respectively. This is done to ensure that the <script type="math/tex; mode=display">t_{preorder}</script> doesn't become a substring of <script type="math/tex; mode=display">s_{preorder}</script> even in cases when <script type="math/tex; mode=display">t</script> isn't a subtree of <script type="math/tex; mode=display">s</script>. </p>
<p>You can also note that we've added a '#' before every considering every value. If this isn't done, the trees of the form <code>s:[23, 4, 5]</code> and <code>t:[3, 4, 5]</code> will also give a true result since the preorder string of the <code>t("23 4 lnull rull 5 lnull rnull")</code> will be a substring of the preorder string of <code>s("3 4 lnull rull 5 lnull rnull")</code>. Adding a '#' before the node's value solves this problem.</p>
<p align="center"><img alt="Preorder_null" src="https://leetcode.com/articles/Figures/572_Subtree_1.PNG"/></p>
<p align="center"><img alt="Preorder_lnull_rnull" src="https://leetcode.com/articles/Figures/572_Subtree_2.PNG"/></p>
<iframe frameborder="0" height="513" name="cagXWqSv" src="https://leetcode.com/playground/cagXWqSv/shared" width="100%"></iframe>
<p><strong>Complexity Analysis</strong></p>
<ul>
<li>
<p>Time complexity : <script type="math/tex; mode=display">O(m^2+n^2+m*n)</script>. A total of <script type="math/tex; mode=display">n</script> nodes of the tree <script type="math/tex; mode=display">s</script> and <script type="math/tex; mode=display">m</script> nodes of tree <script type="math/tex; mode=display">t</script> are traversed. Assuming string concatenation takes <script type="math/tex; mode=display">O(k)</script> time for strings of length <script type="math/tex; mode=display">k</script> and <code>indexOf</code> takes <script type="math/tex; mode=display">O(m*n)</script>.</p>
</li>
<li>
<p>Space complexity : <script type="math/tex; mode=display">O(max(m,n))</script>. The depth of the recursion tree can go upto <script type="math/tex; mode=display">n</script> for tree <script type="math/tex; mode=display">t</script> and <script type="math/tex; mode=display">m</script> for tree <script type="math/tex; mode=display">s</script> in worst case.</p>
</li>
</ul>
<hr/>
<h4 id="approach-2-by-comparison-of-nodes-accepted">Approach #2 By Comparison of Nodes  [Accepted]</h4>
<p><strong>Algorithm</strong></p>
<p>Instead of creating an inorder traversal, we can treat every node of the given tree <script type="math/tex; mode=display">t</script> as the root, treat it as a subtree and compare the corresponding subtree with the given subtree <script type="math/tex; mode=display">s</script> for equality. For checking the equality, we can compare the all the nodes of the two subtrees. </p>
<p>For doing this, we make use a function <code>traverse(s,t)</code> which traverses over the given tree <script type="math/tex; mode=display">s</script> and treats every node as the root of the subtree currently being considered. It also checks the two subtrees currently being considered for their equality. In order to check the equality of the two subtrees, we make use of <code>equals(x,y)</code> function, which takes <script type="math/tex; mode=display">x</script> and <script type="math/tex; mode=display">y</script>, which are the roots of the two subtrees to be compared as the inputs and returns True or False depending on whether the two are equal or not. It compares all the nodes of the two subtrees for equality. Firstly, it checks whether the roots of the two trees for equality and then calls itself recursively for the left subtree and the right subtree.</p>
<p>The follwowing animation depicts an abstracted view of the process:</p>
<p>!?!../Documents/572_Subtree.json:1000,563!?!</p>
<iframe frameborder="0" height="515" name="A6ipy4aH" src="https://leetcode.com/playground/A6ipy4aH/shared" width="100%"></iframe>
<p><strong>Complexity Analysis</strong></p>
<ul>
<li>
<p>Time complexity : <script type="math/tex; mode=display">O(m*n)</script>. In worst case(skewed tree) <code>traverse</code> function takes <script type="math/tex; mode=display">O(m*n)</script> time. </p>
</li>
<li>
<p>Space complexity : <script type="math/tex; mode=display">O(n)</script>. The depth of the recursion tree can go upto <script type="math/tex; mode=display">n</script>. <script type="math/tex; mode=display">n</script> refers to the number of nodes in <script type="math/tex; mode=display">s</script>.</p>
</li>
</ul>
<hr/>
<p>Analysis written by: <a href="https://leetcode.com/vinod23">@vinod23</a></p>
</div>
          </div>
        </div>
      </div>

    </div>

    <aside class="col-md-3  blog-sidebar">
      <div class="row sidebar-module">
        <ul class="list-group">
          <li class="list-group-item"><span>Difficulty:</span><span class="pull-right">
                              
                                <button class="btn btn-xs btn-info disabled">Easy</button>
                              
          </span></li>
          <li class="list-group-item"><span>Total Accepted:</span><span class="pull-right">32947</span>
          </li>
          <li class="list-group-item"><span>Total Submissions:</span><span
                  class="pull-right">81048</span></li>

          <li class="list-group-item" style="background: #eee;"><span><i
                  class="fas fa-unlock-alt"></i> Frequency:</span>
            <span class="pull-right">
              28%
            </span>
          </li>
        </ul>
        <ul class="list-group">

          <li class="list-group-item">
            <h4><i class="fas fa-unlock-alt"></i> Companies (leaked): </h4>
            
              <a style="margin:2px" class="btn btn-sm btn-success" href="../company/facebook.html">Facebook</a>
            
              <a style="margin:2px" class="btn btn-sm btn-success" href="../company/ebay.html">eBay</a>
            
          </li>

        </ul>
      </div>
    </aside>

  </div>

  <div class="row" >
    <div class="col-md-2">
      <select class="js-example-basic-single" name="state" style="width: 100%;" id="language">
        <option value="cpp">C++</option>
        <option value="py2">Python 2</option>
        <option value="py3">Python 3</option>
      </select>
    </div>
    <div class="col-md-2">

    </div>
  </div>

  <div class="row" >
    <div class="col-md-12 blog-main">
      <div>
        
        <textarea id="code_cpp" name="code_cpp">
          
            
        </textarea>
        
        <textarea id="code_py2" name="code_py2">
          
            
        </textarea>
        
        <textarea id="code_py3" name="code_py3">
          
            
        </textarea>
        
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-md-12 blog-main">
      <a href="#" class="btn btn-primary" id="submit">Submit Solution</a>
    </div>
  </div>



</div>
<!-- /.container -->

<footer class="blog-footer">
  <a href="mailto:leetfree@gmail.com">Email: leetfree@gmail.com</a>
  <p class="pull-right"><a href="#">Back to top</a></p>
</footer>

<!-- Bootstrap core JavaScript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script>
    window.jQuery || document.write('<script src="/assets/js/vendor/jquery.min.js"><\/script>')
</script>
<script src="../js/bootstrap.min.js"></script>
<!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
<script src="../assets/js/ie10-viewport-bug-workaround.js"></script>


<!-- DataTable -->
<!-- <script src="https://cdn.datatables.net/1.10.16/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.10.16/js/dataTables.bootstrap4.min.js"></script> -->

<script src="../main.js"></script>





</body>

</html>