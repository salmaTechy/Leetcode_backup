<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <meta name="description" content="Given many words, words[i] has weight i.

Design a class WordFilter that supports one function, WordFilter.f(String prefix, String suffix).
It will return the word with given prefix and suffix with maximum weight.  If no word exists, return -1.

Examples:
Input:
WordFilter([&#34;apple&#34;])
WordFilter.f(&#34;a&#34;, &#34;e&#34;) // returns 0
WordFilter.f(&#34;b&#34;, &#34;&#34;) // returns -1

Note:

words has length in range [1, 15000].
For each test case, up to words.length queries WordFilter.f may be made.
words[i] has length in range [1, 10].
prefix, suffix have lengths in range [0, 10].
words[i] and prefix, suffix queries consist of lowercase letters only.">
  <meta name="keywords"
        content="Prefix and Suffix Search, LC 745, leetcode 745, leaked interview questions, hackerank free, bittiger free"/>



  <meta name="author" content="">
  <link rel="icon" href="../favicon.ico">

  <title>LeetFree - Leaked Interview questions from Google Facebook Amazon Microsoft LinkedIn</title>

  <!-- Bootstrap core CSS -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">

  <link href="https://use.fontawesome.com/releases/v5.0.1/css/all.css" rel="stylesheet">

  <!-- <link href="/css/fontawesome-all.min.css" rel="stylesheet"> -->
  <!-- <link href="/css/open-iconic-bootstrap.min.css" rel="stylesheet"> -->

  <!-- DataTable -->
  <!-- <link href="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0-beta/css/bootstrap.css" rel="stylesheet">
  <link href="https://cdn.datatables.net/1.10.16/css/dataTables.bootstrap4.min.css" rel="stylesheet"> -->

  
  <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/css/select2.min.css" rel="stylesheet"/>
  <!--<link href="/css/codemirror.css" rel="stylesheet">-->

  <style type="text/css">.CodeMirror {
      border: 1px solid gray;
      height: 100%;
    }
  </style>



  <!-- Custom styles for this template -->
  <link href="../maincss.css" rel="stylesheet">


  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-111377072-1"></script>
  <script>
      window.dataLayer = window.dataLayer || [];

      function gtag() {
          dataLayer.push(arguments);
      }

      gtag('js', new Date());

      gtag('config', 'UA-111377072-1');
  </script>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({
      google_ad_client: "ca-pub-8728288618103299",
      enable_page_level_ads: true
    });
  </script>

  <!-- Baidu Analytics -->









</head>

<body>

<div class="blog-masthead">
  <div class="container">
    <nav class="blog-nav">
      <a class="blog-nav-item" href="../index.html">All Questions</a>
      <a class="blog-nav-item" href="../company/google.html">Google</a>
      <a class="blog-nav-item" href="../company/facebook.html">Facebook</a>
      <a class="blog-nav-item" href="../company/microsoft.html">Microsoft</a>
      <a class="blog-nav-item" href="../company/amazon.html">Amazon</a>
      <a class="blog-nav-item" href="../company/uber.html">Uber</a>
      <a class="blog-nav-item" href="../company/linkedin.html">LinkedIn</a>
      <a class="blog-nav-item" href="../company/twitter.html">Twitter</a>
      <a class="blog-nav-item" href="../company/airbnb.html">Airbnb</a>
      <a class="blog-nav-item" href="../company/snapchat.html">Snapchat</a>
    </nav>
  </div>
</div>

<div class="container">
  

  <div class="blog-header">
    <div class="alert alert-info" role="alert">This website contains ALL LeetCode <b>Premium</b> <i
            class="fas fa-unlock-alt"></i> problems for
      <b>FREE!!</b>.<br/>
      All leaked interview problems are collected from Internet.
    </div>

    <h2>745. Prefix and Suffix Search</h2>
  </div>

  <div class="row">
    <div class="col-md-9 blog-main">
      <div>
        <!-- Nav tabs -->
        <ul class="nav nav-tabs" role="tablist" id="myTabs">
          <li role="presentation" class="active" id="question-li"><a href="#question" aria-controls="question"
                                                                     role="tab"
                                                                     data-toggle="tab">Question</a>
          </li>
          <li role="presentation" id="solution-li"><a href="#solution" aria-controls="solution" role="tab"
                                                      data-toggle="tab"><i class="fas fa-unlock-alt"></i> Solution</a>
          </li>
        </ul>

        <!-- Tab panes -->
        <div class="tab-content">

          <div role="tabpanel" class="tab-pane active" id="question">
            <br/>
            <p>
Given many <code>words</code>, <code>words[i]</code> has weight <code>i</code>.
</p><p>
Design a class <code>WordFilter</code> that supports one function, <code>WordFilter.f(String prefix, String suffix)</code>.
It will return the word with given <code>prefix</code> and <code>suffix</code> with maximum weight.  If no word exists, return -1.
</p>

<p><b>Examples:</b><br />
<pre>
<b>Input:</b>
WordFilter(["apple"])
WordFilter.f("a", "e") // returns 0
WordFilter.f("b", "") // returns -1
</pre></p>

<p><b>Note:</b><br>
<ol>
<li><code>words</code> has length in range <code>[1, 15000]</code>.</li>
<li>For each test case, up to <code>words.length</code> queries <code>WordFilter.f</code> may be made.</li>
<li><code>words[i]</code> has length in range <code>[1, 10]</code>.</li>
<li><code>prefix, suffix</code> have lengths in range <code>[0, 10]</code>.</li>
<li><code>words[i]</code> and <code>prefix, suffix</code> queries consist of lowercase letters only.</li>
</ol>
</p>
          </div>
          <div role="tabpanel" class="tab-pane" id="solution">
            <br/>
            <div class="block-markdown">
<div class="toc">
<ul>
<li><a href="#approach-1-trie-set-intersection-time-limit-exceeded">Approach #1: Trie + Set Intersection [Time Limit Exceeded]</a></li>
<li><a href="#approach-2-paired-trie-accepted">Approach #2: Paired Trie [Accepted]</a></li>
<li><a href="#approach-3-trie-of-suffix-wrapped-words-accepted">Approach #3: Trie of Suffix Wrapped Words [Accepted]</a></li>
</ul>
</div>
<h4 id="approach-1-trie-set-intersection-time-limit-exceeded">Approach #1: Trie + Set Intersection [Time Limit Exceeded]</h4>
<p><strong>Intuition and Algorithm</strong></p>
<p>We use two tries to separately find all words that match the prefix, plus all words that match the suffix.  Then, we try to find the highest weight element in the intersection of these sets.</p>
<p>Of course, these sets could still be large, so we might TLE if we aren't careful.</p>
<iframe frameborder="0" height="500" name="ihA9cm57" src="https://leetcode.com/playground/ihA9cm57/shared" width="100%"></iframe>
<p><strong>Complexity Analysis</strong></p>
<ul>
<li>
<p>Time Complexity: <script type="math/tex; mode=display">O(NK + Q(N+K))</script> where <script type="math/tex; mode=display">N</script> is the number of words, <script type="math/tex; mode=display">K</script> is the maximum length of a word, and <script type="math/tex; mode=display">Q</script> is the number of queries.  If we use memoization in our solution, we could produce tighter bounds for this complexity, as the complex queries are somewhat disjoint.</p>
</li>
<li>
<p>Space Complexity: <script type="math/tex; mode=display">O(NK)</script>, the size of the tries.</p>
</li>
</ul>
<hr/>
<h4 id="approach-2-paired-trie-accepted">Approach #2: Paired Trie [Accepted]</h4>
<p><strong>Intuition and Algorithm</strong></p>
<p>Say we are inserting the word <code>apple</code>.  We could insert <code>('a', 'e'), ('p', 'l'), ('p', 'p'), ('l', 'p'), ('e', 'a')</code> into our trie.  Then, if we had equal length queries like <code>prefix = "ap", suffix = "le"</code>, we could find the node <code>trie['a', 'e']['p', 'l']</code> in our trie.  This seems promising.</p>
<p>What about queries that aren't equal?  We should just insert them like normal.  For example, to capture a case like <code>prefix = "app", suffix = "e"</code>, we could create nodes <code>trie['a', 'e']['p', None]['p', None]</code>.</p>
<p>After inserting these pairs into our trie, our searches are straightforward.</p>
<iframe frameborder="0" height="500" name="rphE5ncp" src="https://leetcode.com/playground/rphE5ncp/shared" width="100%"></iframe>
<p><strong>Complexity Analysis</strong></p>
<ul>
<li>
<p>Time Complexity: <script type="math/tex; mode=display">O(NK^2 + QK)</script> where <script type="math/tex; mode=display">N</script> is the number of words, <script type="math/tex; mode=display">K</script> is the maximum length of a word, and <script type="math/tex; mode=display">Q</script> is the number of queries.</p>
</li>
<li>
<p>Space Complexity: <script type="math/tex; mode=display">O(NK^2)</script>, the size of the trie.</p>
</li>
</ul>
<hr/>
<h4 id="approach-3-trie-of-suffix-wrapped-words-accepted">Approach #3: Trie of Suffix Wrapped Words [Accepted]</h4>
<p><strong>Intuition and Algorithm</strong></p>
<p>Consider the word <code>'apple'</code>.  For each suffix of the word, we could insert that suffix, followed by <code>'#'</code>, followed by the word, all into the trie.</p>
<p>For example, we will insert <code>'#apple', 'e#apple', 'le#apple', 'ple#apple', 'pple#apple', 'apple#apple'</code> into the trie.  Then for a query like <code>prefix = "ap", suffix = "le"</code>, we can find it by querying our trie for <code>le#ap</code>.</p>
<iframe frameborder="0" height="500" name="hSdRfBf4" src="https://leetcode.com/playground/hSdRfBf4/shared" width="100%"></iframe>
<p><strong>Complexity Analysis</strong></p>
<ul>
<li>
<p>Time Complexity: <script type="math/tex; mode=display">O(NK^2 + QK)</script> where <script type="math/tex; mode=display">N</script> is the number of words, <script type="math/tex; mode=display">K</script> is the maximum length of a word, and <script type="math/tex; mode=display">Q</script> is the number of queries.</p>
</li>
<li>
<p>Space Complexity: <script type="math/tex; mode=display">O(NK^2)</script>, the size of the trie.</p>
</li>
</ul>
<hr/>
<p>Analysis written by: <a href="https://leetcode.com/awice">@awice</a>.</p>
</div>
          </div>
        </div>
      </div>

    </div>

    <aside class="col-md-3  blog-sidebar">
      <div class="row sidebar-module">
        <ul class="list-group">
          <li class="list-group-item"><span>Difficulty:</span><span class="pull-right">
                              
                                <button class="btn btn-xs btn-danger disabled">Hard</button>
                              
          </span></li>
          <li class="list-group-item"><span>Total Accepted:</span><span class="pull-right">1249</span>
          </li>
          <li class="list-group-item"><span>Total Submissions:</span><span
                  class="pull-right">5822</span></li>

          <li class="list-group-item" style="background: #eee;"><span><i
                  class="fas fa-unlock-alt"></i> Frequency:</span>
            <span class="pull-right">
              6%
            </span>
          </li>
        </ul>
        <ul class="list-group">

          <li class="list-group-item">
            <h4><i class="fas fa-unlock-alt"></i> Companies (leaked): </h4>
            
              <a style="margin:2px" class="btn btn-sm btn-success" href="../company/facebook.html">Facebook</a>
            
          </li>

        </ul>
      </div>
    </aside>

  </div>

  <div class="row" >
    <div class="col-md-2">
      <select class="js-example-basic-single" name="state" style="width: 100%;" id="language">
        <option value="cpp">C++</option>
        <option value="py2">Python 2</option>
        <option value="py3">Python 3</option>
      </select>
    </div>
    <div class="col-md-2">

    </div>
  </div>

  <div class="row" >
    <div class="col-md-12 blog-main">
      <div>
        
        <textarea id="code_cpp" name="code_cpp">
          
            
        </textarea>
        
        <textarea id="code_py2" name="code_py2">
          
            
        </textarea>
        
        <textarea id="code_py3" name="code_py3">
          
            
        </textarea>
        
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-md-12 blog-main">
      <a href="#" class="btn btn-primary" id="submit">Submit Solution</a>
    </div>
  </div>



</div>
<!-- /.container -->

<footer class="blog-footer">
  <a href="mailto:leetfree@gmail.com">Email: leetfree@gmail.com</a>
  <p class="pull-right"><a href="#">Back to top</a></p>
</footer>

<!-- Bootstrap core JavaScript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script>
    window.jQuery || document.write('<script src="/assets/js/vendor/jquery.min.js"><\/script>')
</script>
<script src="../js/bootstrap.min.js"></script>
<!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
<script src="../assets/js/ie10-viewport-bug-workaround.js"></script>


<!-- DataTable -->
<!-- <script src="https://cdn.datatables.net/1.10.16/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.10.16/js/dataTables.bootstrap4.min.js"></script> -->

<script src="../main.js"></script>





</body>

</html>